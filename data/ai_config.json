{
    "model": "gpt-4o",
    "vision_model": "gpt-4o",
    "speech_enabled": true,
    "vision_enabled": true,
    "wake_word_enabled": true,
    "max_conversation_length": 10,
    "max_tokens": 1500,
    "vision_max_tokens": 300,
    "temperature": 0.7,
    "whisper_model": "gpt-4o-transcribe",
    "tts_model": "gpt-4o-mini-tts",
    "voice": "cedar",
    "vision": {
        "vision_model": "gpt-4o-mini",
        "max_tokens": 300,
        "confidence_threshold": 0.5,
        "description_templates": {
            "use_fixed_templates": true,
            "openai_fallback": true,
            "template_confidence_min": 0.5
        },
        "strategy": {
            "yolo_first": true,
            "openai_fallback_when_no_detections": true,
            "max_template_objects": 3,
            "image_resize_max_width": 800,
            "jpeg_quality": 80
        }
    },
    "audio": {
        "sample_rate": 48000,
        "channels": 1,
        "chunk_size": 1024,
        "microphone_index": 3,
        "speaker_index": 2,
        "record": {
            "chunk_ms": 20,
            "max_duration": 10,
            "silence_timeout": 0.45,
            "pre_roll_sec": 0.35,
            "tail_ms": 300,
            "end_peak_thr": 1200.0,
            "max_initial_silence": 3.0,
            "dynamic_end_avg": {
                "enabled": true,
                "base_silence_threshold": 160,
                "noise_std_mult": 1.5
            }
        },
        "trim": {
            "enabled": true,
            "window_ms": 20,
            "head_ms": 400,
            "min_speech_end_ms": 150,
            "base_threshold": 200,
            "noise_std_mult": 1.5
        }
    },
    "wake_words": [
        "винди",
        "венди",
        "винде"
    ],
    "activation_timeout": 10,
    "sensitivity_threshold": 800,
    "wake": {
        "min_avg_volume": 1200,
        "min_peak_volume": 6000,
        "continuous_min_ms": 400,
        "continuous_window_ms": 20,
        "continuous_mean_threshold": 450,
        "confirm_second_look": true,
        "cooldown_after_tts_ms": 200,
        "cooldown_after_activation_ms": 100,
        "silence_check": {
            "max_wait_ms": 1200,
            "check_interval_s": 1,
            "silence_threshold": 160
        },
        "match": {
            "start_only": true,
            "max_prefix_words": 2,
            "word_boundary": true
        },
        "ducking": {
            "enabled": true,
            "mode": "duck",
            "volume_percent": 20,
            "restore": "previous"
        }
    },
    "intent_analysis_model": "gpt-4o",
    "intent_analysis_max_tokens": 10,
    "intent_analysis_temperature": 0.1,
    "tts_instructions": {
        "default": "Говори дружелюбно как робот-помощник. Будь выразительным и естественным.",
        "chat": "Говори живо и эмоционально, как настоящий друг. Используй интонации.",
        "status": "Говори четко и информативно, как технический специалист.",
        "vision": "Говори описательно и образно, помогая представить картину."
    },
    "speech": {
        "provider": "yandex",
        "yandex": {
            "auth": "api_key",
            "api_key": "",
            "iam_token": "",
            "sample_rate": 48000,
            "channels": 1,
            "profanity_filter": true,
            "model": "general",
            "tts_voice": "alexander",
            "tts_role": "good",
            "tts_format": "MP3",
            "tts_sample_rate": 48000,
            "tts_speed": 1.0,
            "tts_unsafe_mode": true
        }
    },
    "wake_word_backend": "vosk",
    "vosk_kws": {
        "enabled": true,
        "model_dir": "data/vosk/current",
        "sample_rate": 16000,
        "chunk_ms": 30,
        "min_conf": 0.60,
        "confirm_window_ms": 700
    },
    "spotify": {
        "redirect_uri": "http://127.0.0.1:8888/callback",
        "default_volume": 50,
        "search_limit": 10,
        "control_method": "auto",
        "scopes": [
            "user-read-playback-state",
            "user-modify-playback-state",
            "user-read-currently-playing"
        ],
        "voice_commands": {
            "включи музыку": "play",
            "выключи музыку": "pause",
            "поставь на паузу": "pause",
            "продолжи музыку": "play",
            "следующая песня": "next_track",
            "предыдущая песня": "previous_track",
            "что играет": "current_track_info",
            "тише": "volume_down",
            "громче": "volume_up",
            "поставь": "search_and_play"
        },
        "volume_step": 10,
        "max_search_results": 5,
        "auto_play_search": false,
        "timeout": 30,
        "preferred_device": "Raspberry Speaker"
    }
}